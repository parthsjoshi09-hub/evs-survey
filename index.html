<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environmental Responsibility Survey</title>
    <style>
        /* --- CSS STYLES --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #e6f7ff; /* Light Blue/Green Background */
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            color: #333;
        }

        .survey-container {
            background-color: #fff;
            padding: 30px 40px;
            border-radius: 12px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #007bff;
            margin-bottom: 5px;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }

        .page-stats {
            text-align: right;
            font-size: 0.9em;
            color: #555;
            margin-bottom: 20px;
        }

        .question-block {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #cceeff;
            border-radius: 8px;
            background-color: #f0f8ff;
        }

        .question-text {
            font-weight: bold;
            margin-bottom: 10px;
            color: #004d99;
        }

        .option-label {
            display: inline-block;
            margin-right: 20px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .option-label:hover {
            background-color: #e0f2ff;
        }

        input[type="radio"] {
            margin-right: 5px;
        }

        #submit-btn {
            width: 100%;
            padding: 15px;
            margin-top: 30px;
            border: none;
            border-radius: 6px;
            font-size: 1.2em;
            cursor: pointer;
            background-color: #28a745; /* Green for GO */
            color: white;
            transition: background-color 0.3s;
        }

        #submit-btn:hover:not(:disabled) {
            background-color: #218838;
        }

        #submit-btn:disabled {
            background-color: #adb5bd;
            cursor: not-allowed;
        }

        .results-area {
            margin-top: 30px;
            text-align: center;
        }

        #score-result {
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        #score-result h2 {
            margin-top: 0;
            color: #007bff;
        }
        
        #feedback-message {
            font-size: 1.1em;
            font-weight: bold;
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
        }

        .feedback-good {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback-bad {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <div class="survey-container">
        <h1>Environmental Habit Survey (25 Questions)</h1>
        <div class="page-stats">
            <p>Participants (This Browser): <span id="visit-counter">0</span></p>
        </div>
        <p id="feedbackCount" style="
  text-align:center;
  font-weight:bold;
  color:green;
  margin-bottom:20px;
">
  üëç 146 people have already given their feedback
</p>
       

        <div id="quiz-area">
            </div>

        <div class="results-area">
            <button id="submit-btn" disabled>Calculate My Impact</button>
            <div id="score-result" class="hidden">
                <h2>Survey Results:</h2>
                <p>Correct/Positive Answers: <span id="correct-count">0</span> / 25</p>
                <p>Your Environmental Score: <span id="percentage-score">0%</span></p>
                <div id="feedback-message"></div>
            </div>
        </div>
    </div>
   

<!-- Script for dynamic +1 feedback count -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Get previous count from localStorage, or start at 146
    let count = localStorage.getItem('feedbackCount');
    if (count === null) {
      count = 146;
    } else {
      count = Number(count);
    }

    // Increment by 1
    count += 1;

    // Save new count back to localStorage
    localStorage.setItem('feedbackCount', count);

    // Update the HTML
    document.getElementById("feedbackCount").innerHTML =
      "üëç " + count + " people have already given their feedback";
  });
</script>

    <script>
        // --- JAVASCRIPT LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const quizArea = document.getElementById('quiz-area');
            const submitBtn = document.getElementById('submit-btn');
            const scoreResult = document.getElementById('score-result');
            const correctCountDisplay = document.getElementById('correct-count');
            const percentageScoreDisplay = document.getElementById('percentage-score');
            const visitCounterDisplay = document.getElementById('visit-counter');
            const feedbackMessage = document.getElementById('feedback-message');
            
            const TOTAL_QUESTIONS = 25;

            // --- 1. Visitor Counter Logic (Client-Side) ---
            function updateVisitCounter() {
                let count = localStorage.getItem('survey_page_visits');
                if (count === null) {
                    count = 0; // Start at 0, increment on first submission
                } else {
                    count = Number(count);
                }
                
                // Only increment the count if the user has submitted the quiz before
                if (localStorage.getItem('survey_submitted_once') !== 'true') {
                    count++;
                    localStorage.setItem('survey_page_visits', count);
                }
                
                visitCounterDisplay.textContent = count.toLocaleString();
            }
            
            // --- 2. Quiz Questions Data (25 Questions) ---
            // NOTE: The "correctAnswer" is the environmentally positive action.
            const quizQuestions = [
                { question: "1. Do you dispose of waste in a proper dustbin?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "2. Do you segregate wet waste and dry waste at home?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "3. Do you recycle paper, plastic, or metal waste?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "4. Do you avoid using single-use plastic?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "5. Do you carry a reusable bag while shopping?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "6. Do you save electricity at home?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "7. Do you switch off lights and fans when not in use?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "8. Do you save water while brushing or bathing?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "9. Do you use public transport regularly?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "10. Do you walk or cycle for short distances?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "11. Do you use or plan to use an electric vehicle (EV)?", options: ["Yes", "No/Not yet"], correctAnswer: "Yes" },
                { question: "12. Do you avoid wasting food?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "13. Do you reuse items instead of throwing them away?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "14. Do you plant or take care of plants or trees?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "15. Do you avoid littering in public places?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "16. Do you think waste segregation is important?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "17. Do you prefer eco-friendly products?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "18. Are you aware of environmental pollution?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "19. Do you encourage others to keep the surroundings clean?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "20. Do you compost kitchen waste at home?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "21. Do you avoid burning waste?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "22. Do you participate in cleanliness or environmental drives?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "23. Do you reduce water usage whenever possible?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "24. Do you think individuals can help protect the environment?", options: ["Yes", "No"], correctAnswer: "Yes" },
                { question: "25. Are you willing to adopt more eco-friendly habits?", options: ["Yes", "No"], correctAnswer: "Yes" }
            ];

            // --- 3. Render Quiz Function ---
            function renderQuiz() {
                quizArea.innerHTML = '';
                quizQuestions.forEach((q, index) => {
                    const block = document.createElement('div');
                    block.className = 'question-block';
                    
                    const questionText = document.createElement('p');
                    questionText.className = 'question-text';
                    questionText.textContent = q.question;
                    block.appendChild(questionText);

                    q.options.forEach(option => {
                        const label = document.createElement('label');
                        label.className = 'option-label';
                        
                        const input = document.createElement('input');
                        input.type = 'radio';
                        input.name = `question${index}`;
                        input.value = option;
                        
                        label.appendChild(input);
                        label.appendChild(document.createTextNode(option));
                        block.appendChild(label);
                    });
                    
                    quizArea.appendChild(block);
                });

                submitBtn.disabled = false;
                submitBtn.textContent = 'Calculate My Impact';
                scoreResult.classList.add('hidden');
                feedbackMessage.textContent = '';
                feedbackMessage.className = '';
            }

            // --- 4. Scoring and Feedback Logic ---
            function calculateScore() {
                let correctCount = 0;
                let answeredCount = 0;

                quizQuestions.forEach((q, index) => {
                    const selector = `input[name="question${index}"]:checked`;
                    const checkedInput = quizArea.querySelector(selector);
                    
                    if (checkedInput) {
                        answeredCount++;
                        if (checkedInput.value === q.correctAnswer) {
                            correctCount++;
                        }
                    }
                });
                
                // Check if all questions were answered
                if (answeredCount < TOTAL_QUESTIONS) {
                    alert(`Please answer all ${TOTAL_QUESTIONS} questions before submitting. You have answered ${answeredCount}.`);
                    return;
                }

                // Mark participation and update counter
                localStorage.setItem('survey_submitted_once', 'true');
                updateVisitCounter();
                
                // Calculate percentage
                const percentage = (correctCount / TOTAL_QUESTIONS) * 100;
                
                // Update display
                correctCountDisplay.textContent = correctCount;
                percentageScoreDisplay.textContent = `${Math.round(percentage)}%`;
                
                // Determine Feedback Message
                if (percentage >= 80) {
                    feedbackMessage.textContent = "üèÜ Congratulations! Your high score shows you are actively trying to save the environment. Keep up the excellent work!";
                    feedbackMessage.className = 'feedback-good';
                } else {
                    feedbackMessage.textContent = "‚ö†Ô∏è Important: Your score indicates areas for improvement. You should try to do more things which will save our environment so we can live long and healthy. Start small today!";
                    feedbackMessage.className = 'feedback-bad';
                }
                
                // Show results
                scoreResult.classList.remove('hidden');
                submitBtn.disabled = true;
                submitBtn.textContent = 'Results Calculated';

                // Optional: Disable all radio buttons after submission
                quizArea.querySelectorAll('input[type="radio"]').forEach(radio => radio.disabled = true);
            }

            // --- 5. Event Listeners ---
            submitBtn.addEventListener('click', calculateScore);

            // Initialize the quiz and counter on load
            renderQuiz();
            updateVisitCounter();
        });
    </script>
    <script>
  document.addEventListener('DOMContentLoaded', function () {

    let count = localStorage.getItem('feedbackCount');
    if (count === null) {
      count = 146;
    } else {
      count = Number(count);
    }

    let toggle = localStorage.getItem('feedbackToggle');
    if (toggle === null) {
      toggle = 'true';
    }

    if (toggle === 'true') {
      count = count + 1;
      localStorage.setItem('feedbackToggle', 'false');
    } else {
      localStorage.setItem('feedbackToggle', 'true');
    }

    localStorage.setItem('feedbackCount', count);

    document.getElementById("feedbackCount").innerHTML =
      "üëç " + count + " people have already given their feedback";

  });
</script>
</body>
</html>
